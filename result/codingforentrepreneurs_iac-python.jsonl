{"repo_info": {"repo_name": "iac-python", "repo_owner": "codingforentrepreneurs", "repo_url": "https://github.com/codingforentrepreneurs/iac-python"}}
{"type": "test_file", "path": "src/test_views.py", "content": "from fastapi.testclient import TestClient\n\nfrom src.main import app\n\nclient = TestClient(app)\n\ndef test_get_home():\n    response = client.get(\"/\") # requests.get(\"\") # python requests\n    assert response.status_code == 200\n    assert  \"application/json\" == response.headers['content-type']\n"}
{"type": "source_file", "path": "src/__init__.py", "content": ""}
{"type": "source_file", "path": "src/main.py", "content": "import os\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\nENV_MESSAGE = os.environ.get(\"ENV_MESSAGE\") or \"Nothing to report\"\n\n@app.get(\"/\")\ndef home_view():\n    return  {\"hello\": \"world\", \n             \"try\": \"IaC Ansible\",\n             \"cron\": \"smooth-cronjob\", \n             \"watchtower\": \"working\", \n             \"env-message\": ENV_MESSAGE}\n\n\n@app.post(\"/\")\ndef home_post_view():\n    return  {\"hello\": \"world\"}\n"}
